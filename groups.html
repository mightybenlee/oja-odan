<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oja-odan | Groups</title>
<link rel="stylesheet" href="css/style.css">

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>

<body>

<header>
  <div class="header-content">
    <h1 class="logo"><a href="home.html">[ğŸ ]</a></h1>
 
    <!-- Toggle button -->
    <button class="menu-toggle" onclick="toggleMenu()">â‰¡</button>

    <!-- Dropdown menu -->
    <div id="main-dropdown" class="notif-dropdown hidden">
      <a href="profile.html">Profile</a>
      <a href="marketplace.html">Marketplace</a>
      <a href="groups.html">Groups</a>
      <a href="fun.html">Fun</a>
      <a href="notifications.html">Notifications</a>
      <a href="games.html">Games</a>
      <hr>
      <button id="logoutBtn" class="secondary-btn">Logout</button>
    </div>
  </div>
</header>


<main class="container">

  <h2>Groups</h2>

  <!-- Create Group -->
  <div class="glass-card">
    <input type="text" id="groupName" placeholder="Group Name">
    <select id="groupType">
      <option value="public">Public</option>
      <option value="private">Private (PIN required)</option>
    </select>
    <input type="text" id="groupPin" placeholder="PIN for private group">
    <button id="createGroupBtn" class="primary-btn">Create Group</button>
  </div>

  <!-- Pending approval groups -->
  <div class="glass-card">
    <h3>Pending Groups (Admin approval)</h3>
    <div id="pendingGroups"></div>
  </div>

  <!-- Available groups -->
  <div class="glass-card">
    <h3>Available Groups</h3>
    <div id="availableGroups"></div>
  </div>

</main>

<footer>
  <div class="footer-nav">
    <div class="nav-item"><a href="home.html">ğŸ Home</a></div>
    <div class="nav-item"><a href="friends.html">ğŸ‘¥Friends</a></div>
    <div class="nav-item"><a href="groups.html">â•Groups</a></div>
    <div class="nav-item"><a href="notifications.html">ğŸ””Notifications</a></div>
    <div class="nav-item"><a href="profile.html">ğŸ‘¤Profile</a></div>
  </div>
</footer>
<script src="js/vpnCheck.js"></script>
<script>
  checkVPN();
</script>
<script src="js/firebase.js"></script>
<script src="js/authGuard.js"></script>
<script src="js/groups.js"></script>

<script>
function toggleMenu() {
  const dropdown = document.getElementById('main-dropdown');
  dropdown.classList.toggle('hidden');
}

// Close dropdown when clicking outside
window.onclick = function(event) {
  if (!event.target.matches('.menu-toggle')) {
    const dropdown = document.getElementById('main-dropdown');
    if (!dropdown.classList.contains('hidden')) {
      dropdown.classList.add('hidden');
    }
  }
};
</script>
</body>
</html>
